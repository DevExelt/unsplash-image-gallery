<div class="gallery-wrapper main-container">
  <div class="search flex" *ngIf="showSearch">
    <form class="search-form" (keydown)="triggerEnter($event)">
      <div class="form-field">
        <div class="search-input"><input type='text' placeholder='i.e. Dogs' [(ngModel)]='searchQuery'
            name='searchQuery'></div>
        <button type="button" [disabled]="!searchQuery" (click)="getSearchResult(searchQuery)"><i
            class="icon icon-search"></i></button>
      </div>
    </form>
    <div class="sorting flex">
      <button class="sort" [ngClass]="isSortActive? 'active':''" href="javascript:void(0);"
        (click)="setSort('popuplar')" [disabled]="searchQuery"><i class="material-icons">sort</i></button>
    </div>
  </div>

  <div class="search flex" *ngIf="showCollectionTitle">
    <div class="w100 collection-banner">
      <h1 class="text-center"><strong>{{pageTitle}}</strong></h1>
    </div>
    <div class="chips w100" *ngIf="collection.tags">
      <ul class="flex">
        <li *ngFor="let tag of collection.tags"><a (click)="getSearchResult(tag.title)">#{{tag.title}}</a></li>
      </ul>
    </div>
  </div>

  <div class="main-content">
    <div class="masonry flex masonry--h" id="masonry">
      <div class="loader" *ngIf="loading"></div>
      <span class="masonry-brick masonry-brick--h" *ngFor="let photo of photos, let i = index"
        [style.background]="photo?.color">
        <div class="image-wrapper">
          <div (click)="openShareModal('sharePopup',photo)">
            <img alt="photo?.alt_description" [src]="photo?.urls.small" />
          </div>
          <a class="user-info flex align-items-center" [href]="photo?.user.links.html" target="_blank">
            <span class="user-profile-image"><img alt="{{photo?.user.first_name}}"
                [src]="photo?.user.profile_image.small" /></span>
            <span class="user-name">{{photo?.user.first_name}}</span>
          </a>
          <div class="image-info flex align-items-center">
            <a href="javascript:void(0);" class="image-like text-left" (click)="addFavorite(photo)">
              <i class="material-icons-outlined">thumb_up</i>
            </a>
          </div>
        </div>
      </span>
    </div>
    <div class="loader relative" *ngIf="loadmore"></div>
  </div>
</div>

<popup id="sharePopup" [sharePhoto]="sharePhoto" (notify)="backToGallery($event)"></popup>